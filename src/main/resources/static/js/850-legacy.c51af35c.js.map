{"version":3,"file":"js/850-legacy.c51af35c.js","mappings":"yJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACE,YAAY,UAAUC,MAAM,CAAC,IAAM,EAAQ,SAA6BH,EAAG,SAAS,CAACE,YAAY,iCAAiCC,MAAM,CAAC,MAAQ,UAAU,CAACH,EAAG,eAAe,CAACI,YAAY,CAAC,MAAQ,QAAQ,mBAAmB,UAAU,mBAAmB,iDAAiD,CAACJ,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,EAAQ,MAAyB,YAAY,QAAQ,aAAa,OAAO,QAAU,MAAMH,EAAG,YAAYJ,EAAIS,GAAG,YAAYL,EAAG,aAAa,GAAGA,EAAG,cAAc,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,eAAe,cAAc,MAAQ,KAAK,WAAY,GAAMG,MAAM,CAACC,MAAOX,EAAIY,UAAe,MAAEC,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIY,UAAW,QAASE,IAAME,WAAW,qBAAqBZ,EAAG,eAAe,CAACG,MAAM,CAAC,QAAU,IAAI,UAAY,IAAI,eAAe,WAAW,MAAQ,KAAK,cAAcP,EAAIiB,aAAe,UAAY,cAAc,KAAOjB,EAAIiB,aAAe,OAAS,YAAYC,GAAG,CAAC,eAAe,SAASC,GAAQnB,EAAIiB,cAAgBjB,EAAIiB,eAAeP,MAAM,CAACC,MAAOX,EAAIY,UAAkB,SAAEC,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIY,UAAW,WAAYE,IAAME,WAAW,yBAAyB,GAAGZ,EAAG,UAAU,CAACE,YAAY,QAAQE,YAAY,CAAC,aAAa,SAAS,MAAQ,QAAQ,CAACR,EAAIS,GAAGT,EAAIoB,GAAGpB,EAAIqB,QAAQjB,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,SAAyC,GAA9BP,EAAIY,UAAUU,MAAMC,QAAgD,GAAjCvB,EAAIY,UAAUY,SAASD,OAAY,MAAQ,UAAU,QAAUvB,EAAIyB,QAAQ,MAAQ,IAAIP,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAI0B,WAAW,CAAC1B,EAAIS,GAAG,MAAML,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,KAAK,CAACP,EAAIS,GAAG,gBAAgB,IAAI,IAAI,IAAI,IAC7oDkB,EAAkB,G,wDCyDtB,GACEC,KAAM,QACNC,KAFF,WAGI,MAAO,CACLjB,UAAW,CACTU,MAAO,GACPE,SAAU,GACVM,QAAS,GACTC,SAAU,GACVC,MAAO,IAETX,IAAK,GACLJ,cAAc,EACdQ,SAAS,IAGbQ,QAAS,CACPP,MADJ,WACA,WAaMzB,KAAKoB,IAAM,GACXpB,KAAKwB,SAAU,EACfS,IAAAA,KACN,8CACAC,MAAA,YACQ,GAAR,qBACU,IAAV,WACU,EAAV,kBACU,EAAV,iCACU,EAAV,mCAEUC,EAAAA,EAAAA,IAAAA,YAAAA,KAAAA,UAAAA,EAAAA,WAAAA,CACE,QAAZC,EAAAA,EACY,SAAZC,QAEU,EAAV,cAAY,KAAZC,SAEA,iCACU,EAAV,YACU,EAAV,oBAEA,mCACU,EAAV,WACU,EAAV,0BAGAC,OAAA,YACQ,EAAR,qBAEAC,SAAA,WACQ,EAAR,iBCtHiQ,I,uHCQ7PC,GAAY,OACd,EACA3C,EACA4B,GACA,EACA,KACA,WACA,MAIF,EAAee,EAAiB,QAchC,IAAkBA,EAAW,CAACC,KAAI,UAAM,cAAU,gBAAW,WAAM,SAAK,SAAK,WAAO,YAAQ,eAAW,O","sources":["webpack://basd060/./src/components/Login.vue?a729","webpack://basd060/src/components/Login.vue","webpack://basd060/./src/components/Login.vue?f8ef","webpack://basd060/./src/components/Login.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{staticClass:\"ma-0\"},[_c('v-img',{staticClass:\"LoginBg\",attrs:{\"src\":require(\"@/assets/signin-bg.jpg\")}}),_c('v-card',{staticClass:\"ma-auto elevation-8 rounded-lg\",attrs:{\"width\":\"350px\"}},[_c('v-card-title',{staticStyle:{\"color\":\"white\",\"background-color\":\"#226498\",\"background-image\":\"linear-gradient(to bottom, #297ab9, #1b4e77)\"}},[_c('v-img',{attrs:{\"src\":require(\"@/assets/gfc-logo.png\"),\"max-width\":\"128px\",\"max-height\":\"27px\",\"contain\":\"\"}}),_c('v-spacer'),_vm._v(\" 崇友系統登入 \"),_c('v-spacer')],1),_c('v-card-text',[_c('v-text-field',{attrs:{\"prepend-icon\":\"mdi-account\",\"label\":\"工號\",\"autofocus\":true},model:{value:(_vm.loginForm.empNo),callback:function ($$v) {_vm.$set(_vm.loginForm, \"empNo\", $$v)},expression:\"loginForm.empNo\"}}),_c('v-text-field',{attrs:{\"counter\":\"6\",\"maxlength\":\"6\",\"prepend-icon\":\"mdi-lock\",\"label\":\"密碼\",\"append-icon\":_vm.showPassWord ? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.showPassWord ? 'text' : 'password'},on:{\"click:append\":function($event){_vm.showPassWord = !_vm.showPassWord}},model:{value:(_vm.loginForm.usrPaswd),callback:function ($$v) {_vm.$set(_vm.loginForm, \"usrPaswd\", $$v)},expression:\"loginForm.usrPaswd\"}})],1),_c('v-sheet',{staticClass:\"mt-n3\",staticStyle:{\"text-align\":\"center\",\"color\":\"red\"}},[_vm._v(_vm._s(_vm.msg))]),_c('v-card-text',[_c('v-btn',{attrs:{\"disabled\":_vm.loginForm.empNo.length == 0 || _vm.loginForm.usrPaswd.length == 0,\"color\":\"primary\",\"loading\":_vm.loading,\"block\":\"\"},on:{\"click\":function($event){return _vm.logIn()}}},[_vm._v(\"登入\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-login\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-row class=\"ma-0\">\r\n    <v-img src=\"@/assets/signin-bg.jpg\" class=\"LoginBg\"></v-img>\r\n    <v-card class=\"ma-auto elevation-8 rounded-lg\" width=\"350px\">\r\n      <v-card-title\r\n        style=\"\r\n          color: white;\r\n          background-color: #226498;\r\n          background-image: linear-gradient(to bottom, #297ab9, #1b4e77);\r\n        \"\r\n        ><v-img\r\n          src=\"@/assets/gfc-logo.png\"\r\n          max-width=\"128px\"\r\n          max-height=\"27px\"\r\n          contain\r\n        ></v-img\r\n        ><v-spacer></v-spacer> 崇友系統登入 <v-spacer></v-spacer>\r\n      </v-card-title>\r\n      <v-card-text\r\n        ><v-text-field\r\n          v-model=\"loginForm.empNo\"\r\n          prepend-icon=\"mdi-account\"\r\n          label=\"工號\"\r\n          :autofocus=\"true\"\r\n        ></v-text-field>\r\n        <v-text-field\r\n          v-model=\"loginForm.usrPaswd\"\r\n          counter=\"6\"\r\n          maxlength=\"6\"\r\n          prepend-icon=\"mdi-lock\"\r\n          label=\"密碼\"\r\n          :append-icon=\"showPassWord ? 'mdi-eye' : 'mdi-eye-off'\"\r\n          :type=\"showPassWord ? 'text' : 'password'\"\r\n          @click:append=\"showPassWord = !showPassWord\"\r\n        ></v-text-field\r\n      ></v-card-text>\r\n      <v-sheet class=\"mt-n3\" style=\"text-align: center; color: red\">{{\r\n        msg\r\n      }}</v-sheet>\r\n      <v-card-text\r\n        ><v-btn\r\n          :disabled=\"\r\n            loginForm.empNo.length == 0 || loginForm.usrPaswd.length == 0\r\n          \"\r\n          @click=\"logIn()\"\r\n          color=\"primary\"\r\n          :loading=\"loading\"\r\n          block\r\n          >登入<v-icon right>mdi-login</v-icon></v-btn\r\n        ></v-card-text\r\n      >\r\n    </v-card>\r\n  </v-row>\r\n</template>\r\n<script>\r\nimport Cookies from \"js-cookie\";\r\nimport axios from \"axios\";\r\nimport { errorHandle } from \"../../../lib/errorHandle\";\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      loginForm: {\r\n        empNo: \"\",\r\n        usrPaswd: \"\",\r\n        empName: \"\",\r\n        usrGroup: \"\",\r\n        token: \"\",\r\n      },\r\n      msg: \"\",\r\n      showPassWord: false,\r\n      loading: false,\r\n    };\r\n  },\r\n  methods: {\r\n    logIn() {\r\n      // const token = \"rhs256\";\r\n      // this.loginForm.token = token;\r\n      // this.loginForm.empName = \"胡國棟\";\r\n      // this.loginForm.usrGroup = \"mis\";\r\n      // Cookies.set(\"loginForm\", JSON.stringify(this.loginForm), {\r\n      //   expires: 1 / 4,\r\n      //   sameSite: \"lax\",\r\n      // });\r\n      // this.$router.push({ path: \"menu\" });\r\n      //test-----------------------------------------------------------\r\n      // https://ithelp.ithome.com.tw/users/20129187/ironman/3137\r\n\r\n      this.msg = \"\";\r\n      this.loading = true;\r\n      axios\r\n        .post(\"http://localhost:5000/login\", this.loginForm)\r\n        .then((res) => {\r\n          if (res.data.status == \"ok\") {\r\n            const token = \"rhs256\";\r\n            this.loginForm.token = token;\r\n            this.loginForm.empName = res.data.empName;\r\n            this.loginForm.usrGroup = res.data.usrGroup;\r\n\r\n            Cookies.set(\"loginForm\", JSON.stringify(this.loginForm), {\r\n              expires: 1 / 4,\r\n              sameSite: \"lax\",\r\n            });\r\n            this.$router.push({ path: \"menu\" });\r\n          }\r\n          if (res.data.status == \"invaildUserId\") {\r\n            this.msg = \"無效的工號\";\r\n            this.loginForm.empNo = \"\";\r\n          }\r\n          if (res.data.status == \"invaildPassWord\") {\r\n            this.msg = \"密碼錯誤\";\r\n            this.loginForm.usrPaswd = \"\";\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.msg = errorHandle.errMsg(err);\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n        });\r\n      // -----------------------------------------------------------------\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.LoginBg {\r\n  min-width: 100%;\r\n  min-height: 100%;\r\n  max-height: 100%;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=26874f86&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=26874f86&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26874f86\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VIcon,VImg,VRow,VSheet,VSpacer,VTextField})\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","_v","model","value","loginForm","callback","$$v","$set","expression","showPassWord","on","$event","_s","msg","empNo","length","usrPaswd","loading","logIn","staticRenderFns","name","data","empName","usrGroup","token","methods","axios","then","Cookies","expires","sameSite","path","catch","finally","component","VBtn"],"sourceRoot":""}